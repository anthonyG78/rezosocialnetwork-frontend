<v-navigation-drawer class="pb-0"
  :temporary="isXS || isSM" 
  :persistent="isMD || isLG || isXL"
  :clipped="isLG"
  :enable-resize-watcher="resizeWatcher"
  :dark="dark"
  :light="!dark"
  :value="drawer"
  v-if="self !== null"
  @input="value => setDrawer(value)"
  >
  <div :class="{'py-4 px-3 navigation-header white--text': true, 'primary': !dark, 'grey darken-4': dark}">
    <v-list-tile-avatar>
      <img :src="self.avatar + '&s=64'">
    </v-list-tile-avatar>
    <v-list-tile-content class="mt-3">
      <span v-html="self.username"></span>
      <span><small v-html="self.email"></small></span>
    </v-list-tile-content>
  </div>
  <v-list :dense="isXS || isSM" class="mt-0">
    <v-list-item v-for="item in items" :key="item.title">
      <v-subheader 
        :dark="!dark"
        :light="dark"
        v-if="item.header" 
        v-text="$t('message.'+item.header)">
      </v-subheader>
      <v-divider
        :dark="dark"
        v-else-if="item.divider"
        class="my-2"
      ></v-divider>
      <v-list-tile 
        v-else 
        ripple 
        router 
        :exact="item.exact" 
        :to="item.route ? { name: item.route } : null"
        @click.native="item.click ? clickHandler(item.click) : null">
        <v-list-tile-action>
          <v-icon :dark="!dark">{{ item.icon }}</v-icon>
        </v-list-tile-action>
        <v-list-tile-content>
          <v-list-tile-title>{{ $t('message.'+item.title) }}</v-list-tile-title>
        </v-list-tile-content>
        <v-list-tile-action v-if="item.title in notifications && notifications[item.title].length">
          <v-icon class="red--text">fiber_new</v-icon>
        </v-list-tile-action>
      </v-list-tile>
    </v-list-item>
  </v-list>
  <v-divider
    :dark="dark"
  ></v-divider>

  <v-list :dense="isXS || isSM" class="mt-0">
    <v-list-item>
      <v-list-tile>
        <v-list-tile-action>
          <v-switch v-model="theme" dark hide-details></v-switch>
        </v-list-tile-action>
        <v-list-tile-content>
          <v-list-tile-title>{{ $t('message.darkMode') }}</v-list-tile-title>
        </v-list-tile-content>
      </v-list-tile>
    </v-list-item>
  </v-list>

  <footer class="px-3 mt-4 grey--text">
    <small>
      {{ (new Date()).getFullYear() }}
    </small>
  </footer>
</v-navigation-drawer>
